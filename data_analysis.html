<!DOCTYPE html>
<html lang="en">
<head>
  <title>Intro to Programming Nanodegree Notes by bjemcnally</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="notes.css">
</head>
    
<body>
    
<div class="Navigation">
  <a href="http://www.udacity.com" target="_blank"><img src="udacity.png" alt="Udacity Icon" width="200" height="100"></a>
  <h1>Intro to Programming Nanodegree Notes</h1>
  <img src="waves.png" alt="waves" width="100" height="100" class="Center">
  <h3 class="NotesTitle">bjemcnally | Fall 2016</h3>
  <h3 class="NotesTitle">Use these buttons to navigate:</h3>
  <div class="Nav">
    <div class="Button">
      <a href="index.html">Welcome</a>
    </div>
    <div class="Button">
      <a href="notes.html#ZeroStage">Stage 0</a>
    </div>
    <div class="Button">
      <a href="notes.html#FirstStage">Stage 1</a>
    </div>
    <div class="Button">
      <a href="notes2.html">Stage 2</a>
    </div>
    <div class="Button">
      <a href="notes3.html">Stage 3</a>
    </div>
    <div class="Button">
      <a href="notes4and5.html#FourthStage">Stage 4</a>
    </div>
    <div class="Button">
      <a href="notes4and5.html#FifthStage">Stage 5</a>
    </div>
    <div class="Button">
      <a href="data_analysis.html">Data Analysis Elective</a>
    </div>
  </div>
    <h3 class="NotesTitle">Comments &amp; Suggestions Welcome!</h3>
</div>

<div class="NotesMaster"><!-- this one surrounds all of the notes -->

<div><!-- this surrounds all of the Elective notes -->
<h2 class="StageTitle" id="FourthStage">Data Analysis Elective</h2>
  <h3 class="NotesTitle">Lesson 0: Dictionaries (<a href="dictionaries.py">relevant. py</a>)</h3>
    <p><b>Using Dictionaries</b></p>
      <p>Dictionaries are another data type (like strings and lists)</p>
      <p>Create using curly brackets: { and } </p>
      <p>Entries in a dictionary are key:value pairs, e.x.: <span class="inline_code">{'hydrogen':1, 'helium':2}</span></p>
      <p><b>Keys</b> can be any immutable value: strings, numbers, etc.</p>
      <p><b>Values</b> can by any value</p>
      <p>Recall that strings are immutable and lists are mutable. Dictionaries are also mutable: we can add new key:value pairs and we can change the values of values (lol)</p>
      <p>Recall that we can index strings (string_name[character#]) and lists (list_name[value#]). For dictionaries the syntax is different: dictionary_name[key] and the value associated with that key is returned</p>
      <p>Like with lists, we can replace the value associated with a particular key (again, they are mutable), e.x. <span class="inline_code">dictionary_name[key] = new_value</span></p>
      <p>Elements in a dictionary are not ordered so when we print it out they may appear in a different order than originally written</p>
      <p><b>KeyError</b> indicates that a particular element is not in the dictionary</p>
      <p>Like lists, we can use <span class="inline_code">in</span> to determine if a particular element is in our dictionary</p>
      <p>To add an element...</p>
        <div class="Code">
            <p>elements = { 'hydrogen': 1, 'helium': 2, 'carbon': 6 }</p>
            <p>elements['lithium'] = 3</p>
        </div>
      <p>Generically speaking the syntax is: <span class="inline_code">dictionary_name['new_key'] = new_value</span></p>
      <p>The same syntax is used to modify an assigment!</p>
    <p><b>Population Quiz (<a href="population_quiz.py">relevant .py</a>)</b></p>
    <p><b>A Noble Gas (<a href="noble_gas.py">relevant .py</a>)</b></p>
    <p>A dictionary can be an element in a dictionary and individual values in the element dictionary can be indexed (as we did with elements within a list that is an element in a list)</p>
    <div class="InterestingNotes">
      <p>Notes from a recorded session regarding dictionaries in Python:</p>
      <ul>
        <li><span class="inline_code">print dictionary_name.keys()</span> returns a list of all of the keys used in a dictionary</li>
      </ul>
    </div>

  <h3 class="NotesTitle">Lesson 1: Data Analysis Process</h3>
    <p><b>Data Analysis Process</b></p>
    <ol>
      <li>Question you want to answer or problem you want to solve</li>
      <li>Data wrangling: data acquisition and data cleaning
        <p>Can happen via file download, accessing an API, scraping a webpage and/or combining from different formats</p>
      </li>
      <li>Data exploration: get familiar with data, build intuition, and find patterns</li>
      <li>Draw conclusions or make predictions, usually requires statistics or machine learning</li>
      <li>Communicate findings: blog post, paper, email, PowerPoint, conversatio. Data visualization is almost always useful here!</li>
    </ol>
    <p>This process is not necessarily linear! Sometimes data acquisition happens before you generate your question, etc.</p>
    <p><b>IPython Notebook</b></p>
    <p>allows you to combine code, plots, output, and descriptions into one easily readable document</p>
    <p>To open a notebook, use CLI to navigate to the correct directory and then run the command:</p>
      <p><span class="inline_code">jupyter notebook ipython_notebook_name.ipynb</span></p>
    <p>This will open the notebook in the default browser</p>
    <p><b>Pandas</b> is a software library used for data analysis, more on this lateR</p>
    <p><b>CSVs</b></p> (L1_Starter_Code.ipynb)
    <p>Comma separated values, like a spreadsheet without formulas, easy to manipulate using code</p>
    <p>You can represent a CSV yas a list of rows:</p>
      <ul>
        <li>Each row can be a list</li>
        <li>Each row can be a dictionary where keys are heading names</li>
      </ul>
    <p>From <a href="https://docs.python.org/2/library/csv.html">CSV</a> module documentation: the <span class="inline_code">csv</span> (or <span class="inline_code">unicodecsv</span>) module implements classes to read and write tabular data in CSV format uing <span class="inline_code">reader</span> and <span class="inline_code">writer</span> objects. Programmers can also read and write data in dictionary form using <span class="inline_code">DictReader</span> and <span class="inline_code">DictWriter</span> classes.</p>
    <p>Using an <b>iterator</b> lets you write a <span class="inline_code">for</span> loop to access each element, but you can only loop over an iterator once. Iterators are useful when you don't know what is in your list (or whatever you want to iterate over).</p>
    <p>More about iterators (<a href="https://www.codementor.io/python/tutorial/python-generators-and-iterators">source</a>):</p>
    <ul>
      <li>For loops loop over iterables (like lists)</li>
      <li>iterables have <span class="inline_code">__iter__</span> functions</li>
      <li><span class="inline_code">__iter__</span> functions return Iterators</li>
      <li>Iterators make use of the <span class="inline_code">next</span> method to move from element to element within the assoicated iterable</li>
      <li>Once an iterator runs out of things to return from the <span class="inline_code">next</span> function it raises the <span class="inline_code">StopIteration</span> exception whenever next is called</li>
    </ul>
    <p>Remember, anytime you find yourself copying and pasting code or writing two pieces of code that are very similar, it might be best to write a function instead!</p>
    <p><b>Fixing Data Types</b></p>
    <p><span class="inline_code">csv</span> library sees everything as strings, it's up to you to convert them to integers, dates, etc. (if you want)</p>
    <p>It might be best to update datatypes up front to make things easier</p>
    <p>When converting numbers stored as strings, it may be necessary to convert to floating point before converting to integer (depending on the nature of the data)</p>
    <p><b>Questions about student data</b></p>
    <p>e.x. How long do students take to submit projects?</p>
    <p>What are 5 questions you can ask of these data? My answers:</p>
    <ul>
      <li>What proportion of students complete a course?</li>
      <li>On average, how long does it take for students to complete a course?</li>
      <li>On average, once a project is submitted, how long does it take to be evaluated? (in days)</li>
      <li>For students who cancel their enrollment, what is the average length of their enrollment?</li>
      <li>What proportion of student project submission receive 'DISTINCTION' rating?</li>
    </ul>
    <p>Other questions:</p>
    <ul>
      <li>How much time students spend taking classes</li>
      <li>How time spent relates to lessons/projects completed</li>
      <li>How engagment changes</li>
      <li>How many times students submit project</li>
    </ul>
    <p>We will focus on: <b>How do students who pass their projects differ from those who don't?</b></p>
    <p><b>Investigating the data</b></p>
    <p>For each of the files, find the total number of rows in the csv and the number of unique students...</p>
    <p>Video answer used <span class="inline_code">set()</span>... a module that provides classes for constructing and manipulating unordered collections of unique elements (more info <a href="https://docs.python.org/2/library/sets.html">here</a>)</p>
    <p><b>Lesson 1: Notes so far</b></p>
    <p>Got a little frustrated with the complete lack of explanations in Lesson 1 and how often I was getting stuck or just randomly guessing at answers. Took a day off and now I'm ready with a new game plan: go back through Lesson 1 to date and take notes on every part I didn't understand... Here we go!</p>
    <p>On the left will be the code from L1_Starter_Code.ipynb and on the right will be my notes about it...</p>
    <div class="CodeParent">
      <div class="CodeLeft">
        <p>import unicodecsv</p>
        <p>enrollments = []
        <br>f = open('enrollments.csv', 'rb')
        <br>reader = unicodecsv.DictReader(f)
        <br>for row in reader:
        <br>&nbsp;&nbsp;enrollments.append(row)
        <br>f.close()</p>
        <p># this is functionally equivalent to:</p>
        <p>with open('enrollments.csv', 'rb') as f:
        <br>&nbsp;&nbsp;reader = unicodecsv.DictReader(f)
        <br>&nbsp;&nbsp;enrollments = list(reader)</p>
      </div>
      <div class="CodeRight">
        <ul>
          <li><b>Unicode</b> from Google: "an international encoding standard for use with different languages and scripts, by which each letter, digit, or symbol is assigned a unique numeric value that applies across different platforms and programs"</li>
          <li><b>CSV</b> from doc: "is the most common import and export format for spreadsheets and databases"</li>
          <li><span class="inline_code">csv</span> module allows you to read, write, etc to CSVs</li>
          <li><b>'r'</b> indicates the file should be read, the b in <b>'rb'</b> indicates binary format (binary data includes images, sound files,etc). <em>Not sure why this is necessary here...?</em></li>
          <li><span class="inline_code">.DictReader(file_name.csv,fieldnames)</span> is a <span class="inline_code">class</span> within <span class="inline_code">csv</span>module that creates an object that maps the information read into a dictionary whose keys are given by the optional fieldnames parameter. If fieldnames is omitted, the values in the first row (i.e. header) of the CSV will be used as the fieldnames/keys</li>
          <li>The code at right in generating a list (enrollments) where each list element is a row from the CSV that becomes a dictionary where the dictionary keys are taken from the header row</li>
          <li><span class="inline_code">with</span> keyword is useful when dealing with files because it ensures the file is closed after it is used (you don't need to explicitly close it)</li>
          </ul>
      </div>
    </div>
      <p>Question 1 repeats this for the other two CSV files</p>
      <p>Fixing Data Types</p>
      <div class="CodeParent">
        <div class="CodeLeft">
          <p>from datetime import datetime as dt</p>
          <p>def parse_date(date):
          <br>&nbsp;&nbsp;if date == '':
          <br>&nbsp;&nbsp;&nbsp;&nbsp;return None
          <br>&nbsp;&nbsp;else:
          <br>&nbsp;&nbsp;&nbsp;&nbsp;return dt.strptime(date, '%Y-%m-%d')</p>
          <p>def parse_maybe_int(i):
          <br>&nbsp;&nbsp;if i == '':
          <br>&nbsp;&nbsp;&nbsp;&nbsp;return None
          <br>&nbsp;&nbsp;else:
          <br>&nbsp;&nbsp;&nbsp;&nbsp;return int(i)</p>
          <p># Clean up the data types in 'enrollments'</p>
          <p>for enrollment in enrollments:
          <br>&nbsp;&nbsp;enrollment['cancel_date'] = parse_date(enrollment['cancel_date'])
          <br>&nbsp;&nbsp;enrollment['days_to_cancel'] = parse_maybe_int(enrollment['days_to_cancel'])
          <br>&nbsp;&nbsp;enrollment['is_canceled'] = enrollment['is_canceled'] == 'True'
          <br>&nbsp;&nbsp;enrollment['is_udacity'] = enrollment['is_udacity'] == 'True'
          <br>&nbsp;&nbsp;enrollment['join_date'] = parse_date(enrollment['join_date'])</p>
        </div>
        <div class="CodeRight">
          <ul>
            <li><b>Parsing</b> is the process of analysing a string of symbols</li>
            <li><span class="inline_code">datetime</span> module supplies classes for manipulating dates and times in simple and complex ways with the focus on efficient attribute extraction for output formatting and manipulation</li>
            <li><span class="inline_code">as</span> keyword lets you create a shorthand (e.x. type dt instead of datetime each time you use the module)</li>
            <li><span class="inline_code">.strptime(date_string, format)</span> reformats the date from a string to the desired format (e.x. '%Y-%m-%d')</li>
            <li><span class="inline_code">int()</span> turns strings into integers</li>
          </ul>
        </div>
      </div>
      <p>Problems in the Data / Question 3</p>
      <p>This is before question 2 here because it changes the answer to 2 slightly</p>
      <div class="CodeParent">
        <div class="CodeLeft">
          <p>for engagement_record in daily_engagement:
          <br>&nbsp;&nbsp;engagement_record['account_key'] = engagement_record['acct']
          <br>&nbsp;&nbsp;del[engagement_record['acct']]</p>
        </div>
        <div class="CodeRight">
          <p>Changes header 'acct' in daily_engagement table to 'account_key' to match the two other tables</p>
          <p>Essentially reassigns the key's name and the deletes the old key name</p>
        </div>
      </div>
      <p>Investigating the Data / Question 2</p>
      <div class="CodeParent">
        <div class="CodeLeft">
          <p>unique_enrolled_students = set()
          <br>for enrollment in enrollments:
          <br>&nbsp;&nbsp;unique_enrolled_students.add(enrollment['account_key'])
          <br>len(unique_enrolled_students)</p>
          <p># bc we already complete Question 3
          <br># we can create a function to do this:</p>
          <p>def find_unique_accounts(table_name):
          <br>&nbsp;&nbsp;set_of_accounts = set()
          <br>&nbsp;&nbsp;for each in table_name:
          <br>&nbsp;&nbsp;&nbsp;&nbsp;set_of_accounts.add(each['account_key'])
          <br>&nbsp;&nbsp;return set_of_accounts</p>
        </div>
        <div class="CodeRight">
          <ul>
            <li>The goal is to find the number of rows and the number of account keys in each table</li>
            <li>A set is another data structure in Python (like lists) that is an unordered collection with no duplicate elements. Basic uses include membership testing (is X in my list?) and eliminating duplicate entries. <span class="inline code">set()</span> function can be used to create sets or an empty set (as done at left)</li>
            <li>At left we create and empty set and then use a <span class="inline_code">for</span> loop to loop through each line of enrollments table (list of dictionaries) and add the account key to the set</li>
            <li>For lists you use <span class="inline_code">.append()</span> while for sets you use <span class="inline_code">.add()</span></li>
      </div>
      </div>

</div>
          
  <!-- <div>
    <a href="http://jigsaw.w3.org/css-validator/check/referer">
    <img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" /></a>
  </div> NEED TO VERIFY THIS! -->

</div><!-- this closes "NotesMaster" -->
</body>
</html>


